<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
	<title>Moviebase</title>
	<link href="./css/styles.css" rel="stylesheet" type="text/css" />
	<link href="./css/table-styles.css" rel="stylesheet" type="text/css" />
</h:head>
<h:body>
	<h1 class="title">Moviebase</h1>
	<div align="center">
		<fieldset>
		<legend>Form Moviebase</legend>
			<h:form>
				<h:panelGrid columns="3" styleClass="formTable">
					<h:outputLabel for="name" value="Enter the name:" />
					<h:inputText id="name" value="#{movieBean.movie.name}"
						required="true" requiredMessage="Name is required">
					</h:inputText>
					<h:message for="name"></h:message>
					<h:outputLabel for="genrer" value="Enter the genrer:" />
					<h:inputText id="genrer" value="#{movieBean.movie.genrer}">
					</h:inputText>
					<h:message for="genrer"></h:message>
					<h:outputLabel for="year" value="Enter the year:" />
					<h:inputText id="year" value="#{movieBean.movie.year}"
						converterMessage="Year must be a number">
					</h:inputText>
					<h:message for="year"></h:message>
					<h:outputLabel for="director" value="Enter the director:" />
					<h:inputText id="director" value="#{movieBean.movie.director}">
					</h:inputText>
					<h:message for="director"></h:message>
				</h:panelGrid>
				<h:commandButton value="Insert" action="#{movieBean.insert}" />				
			</h:form>
			<br/>
			<h:form>
			<h:dataTable var="m" value="#{movieBean.movies}" border="1"
				styleClass="mainTable" captionClass="caption1" headerClass="heading"
				rowClasses="even,odd" rendered="#{not empty movieBean.movies}">
				<f:facet name="caption">Movies Database</f:facet>				
				<h:column>
					<f:facet name="header">Name</f:facet>
					<h:inputText value="#{m.name}" size="15" rendered="#{m.editable}" />    				
    				<h:outputText value="#{m.name}" rendered="#{not m.editable}" />
				</h:column>
				<h:column>
					<f:facet name="header">Genrer</f:facet>
					<h:inputText value="#{m.genrer}" size="15" rendered="#{m.editable}" />    				
    				<h:outputText value="#{m.genrer}" rendered="#{not m.editable}" />
				</h:column>
				<h:column>
					<f:facet name="header">Director</f:facet>
					<h:inputText value="#{m.director}" size="15" rendered="#{m.editable}" />    				
    				<h:outputText value="#{m.director}" rendered="#{not m.editable}" />
				</h:column>
				<h:column>
					<f:facet name="header">Year</f:facet>
					<h:inputText value="#{m.year}" size="5" rendered="#{m.editable}" />    				
    				<h:outputText value="#{m.year}" rendered="#{not m.editable}" />
				</h:column>
				<h:column>
					<f:facet name="header">Edit</f:facet>
						<h:commandButton value="Edit" action="#{movieBean.editAction(m)}" 
                                       rendered="#{not m.editable}"></h:commandButton>
                        <h:commandButton value="Save Changes" action="#{movieBean.saveAction}" 
										rendered="#{m.editable}"/>
				</h:column>
				<h:column>
					<f:facet name="header">Delete</f:facet>
						<h:commandButton value="Delete" action="#{movieBean.deleteAction(m)}" 
                                      							></h:commandButton>
				</h:column>				
			</h:dataTable>
			</h:form>
		</fieldset>
	</div>
</h:body>
</html>